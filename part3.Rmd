---
title: 'Part 3: Parametrized Reporting with RMarkdown and friends'
author: "Ted Laderas"
date: "7/5/2021"
output: html_document
params: 
  date: !r Sys.Date()
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(quantmod)
library(ggplot2)
library(tidyquant)
library(magrittr)
library(broom)
```

##

https://cran.r-project.org/web/packages/mvMonitoring/vignettes/MVSPC-Workflow.html

https://www.bupar.net/index.html

## Get Stock prices

```{r}
tickers = c("GIS", "K")

prices <- tq_get(tickers,
                 from = "2017-01-01",
                 to = params$date,
                 get = "stock.prices")
```

## Plot the stocks from that day

```{r}
prices %>%
  select(date, symbol, adjusted) %>%
  ggplot() +
  aes(x=date,
      group=symbol,
      y=adjusted, color=symbol) +
  geom_line()
```

